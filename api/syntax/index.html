<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Nitai Aventaggiato">
  
  <title>Query Syntax - Helpmonks Developer Guides</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  <link rel="stylesheet" href="../../css/custom.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Query Syntax";
    var mkdocs_page_input_path = "api/syntax.md";
    var mkdocs_page_url = "/api/syntax/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script>
  <script src="../../js/jquery.cookie-1.4.1.min.js"></script>
  <script src="../../js/nav.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Helpmonks Developer Guides</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li><ul class="subnav">
    <li class="">
        <a class="" href="../.." id="Home" style="font-size:95%;font-weight:bold;">Home</a>
    </li>
    
    <li class="paddingtop20"></li>
</ul>
<li>
          
            <li><ul class="subnav">
    <li class="current">
        <a class="current"  id="Developer API" style="font-size:95%;font-weight:bold;">Developer API</a>
    </li>
    
        <li class="current">
            <a style="padding-left:50px;" class="current"  id="Getting Started" onclick="showChildren('Getting Started')">Getting Started  <i class="fa fa-arrow-circle-down" style="padding-left:5px;font-size:13px;"></i></a>
        </li>
        
        <div style="display:none" id="hidden_Getting Started">
        
            <li class="">
                <a style="padding-left:70px;" class="" href="../overview/" id="Overview">Overview </a>
            </li>
            
            <div style="display:none" id="hidden_Getting StartedOverview">
            
            </div>
        
            <li class="">
                <a style="padding-left:70px;" class="" href="../authentication/" id="Authentication">Authentication </a>
            </li>
            
            <div style="display:none" id="hidden_Getting StartedOverviewAuthentication">
            
            </div>
        
            <li class="current">
                <a style="padding-left:70px;" class="current" href="./" id="Query Syntax">Query Syntax </a>
            </li>
            
            <div style="display:none" id="hidden_Getting StartedOverviewAuthenticationQuery Syntax">
            
            </div>
        
        </div>
    
        <li class="">
            <a style="padding-left:50px;" class=""  id="APIs" onclick="showChildren('APIs')">APIs  <i class="fa fa-arrow-circle-down" style="padding-left:5px;font-size:13px;"></i></a>
        </li>
        
        <div style="display:none" id="hidden_APIs">
        
            <li class="">
                <a style="padding-left:70px;" class=""  id="Conversation" onclick="showChildren('APIsConversation')">Conversation  <i class="fa fa-arrow-circle-down" style="padding-left:5px;font-size:13px;"></i></a>
            </li>
            
            <div style="display:none" id="hidden_APIsConversation">
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../conversation/find/" id="Find">Find </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../conversation/findone/" id="FindOne">FindOne </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../conversation/findbyid/" id="FindById">FindById </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../conversation/update/" id="Update">Update </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../conversation/update_status/" id="Update Status">Update Status </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../conversation/update_label/" id="Update Label">Update Label </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../conversation/note_add/" id="Add Notes">Add Notes </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../conversation/note_delete/" id="Delete Note">Delete Note </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../conversation/delete/" id="Delete">Delete </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../conversation/create/" id="Create">Create </a>
                </li>
            
            </div>
        
            <li class="">
                <a style="padding-left:70px;" class=""  id="Customer" onclick="showChildren('APIsConversationCustomer')">Customer  <i class="fa fa-arrow-circle-down" style="padding-left:5px;font-size:13px;"></i></a>
            </li>
            
            <div style="display:none" id="hidden_APIsConversationCustomer">
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../customer/find/" id="Find">Find </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../customer/findone/" id="FindOne">FindOne </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../customer/findbyid/" id="FindById">FindById </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../customer/delete/" id="Delete">Delete </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../customer/update/" id="Update">Update </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../customer/create/" id="Create">Create </a>
                </li>
            
            </div>
        
            <li class="">
                <a style="padding-left:70px;" class=""  id="Mailbox" onclick="showChildren('APIsConversationCustomerMailbox')">Mailbox  <i class="fa fa-arrow-circle-down" style="padding-left:5px;font-size:13px;"></i></a>
            </li>
            
            <div style="display:none" id="hidden_APIsConversationCustomerMailbox">
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../mailbox/find/" id="Find">Find </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../mailbox/findone/" id="FindOne">FindOne </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../mailbox/findbyid/" id="FindById">FindById </a>
                </li>
            
            </div>
        
            <li class="">
                <a style="padding-left:70px;" class=""  id="Label" onclick="showChildren('APIsConversationCustomerMailboxLabel')">Label  <i class="fa fa-arrow-circle-down" style="padding-left:5px;font-size:13px;"></i></a>
            </li>
            
            <div style="display:none" id="hidden_APIsConversationCustomerMailboxLabel">
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../label/find/" id="Find">Find </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../label/findone/" id="FindOne">FindOne </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../label/findbyid/" id="FindById">FindById </a>
                </li>
            
            </div>
        
            <li class="">
                <a style="padding-left:70px;" class=""  id="User" onclick="showChildren('APIsConversationCustomerMailboxLabelUser')">User  <i class="fa fa-arrow-circle-down" style="padding-left:5px;font-size:13px;"></i></a>
            </li>
            
            <div style="display:none" id="hidden_APIsConversationCustomerMailboxLabelUser">
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../user/find/" id="Find">Find </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../user/findone/" id="FindOne">FindOne </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../user/findbyid/" id="FindById">FindById </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../user/delete/" id="Delete">Delete </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../user/update/" id="Update">Update </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../user/create/" id="Create">Create </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../user/activate/" id="Activate">Activate </a>
                </li>
            
                <li class="">
                    <a style="padding-left:90px;" class="" href="../user/deactivate/" id="Deactivate">Deactivate </a>
                </li>
            
            </div>
        
            <li class="">
                <a style="padding-left:70px;" class="" href="../search/" id="Search">Search </a>
            </li>
            
            <div style="display:none" id="hidden_APIsConversationCustomerMailboxLabelUserSearch">
            
            </div>
        
        </div>
    
        <li class="">
            <a style="padding-left:50px;" class=""  id="Data Models" onclick="showChildren('Data Models')">Data Models  <i class="fa fa-arrow-circle-down" style="padding-left:5px;font-size:13px;"></i></a>
        </li>
        
        <div style="display:none" id="hidden_Data Models">
        
            <li class="">
                <a style="padding-left:70px;" class="" href="../models/conversation/" id="Conversations">Conversations </a>
            </li>
            
            <div style="display:none" id="hidden_Data ModelsConversations">
            
            </div>
        
            <li class="">
                <a style="padding-left:70px;" class="" href="../models/customer/" id="Customer">Customer </a>
            </li>
            
            <div style="display:none" id="hidden_Data ModelsConversationsCustomer">
            
            </div>
        
            <li class="">
                <a style="padding-left:70px;" class="" href="../models/mailbox/" id="Mailbox">Mailbox </a>
            </li>
            
            <div style="display:none" id="hidden_Data ModelsConversationsCustomerMailbox">
            
            </div>
        
            <li class="">
                <a style="padding-left:70px;" class="" href="../models/label/" id="Label">Label </a>
            </li>
            
            <div style="display:none" id="hidden_Data ModelsConversationsCustomerMailboxLabel">
            
            </div>
        
            <li class="">
                <a style="padding-left:70px;" class="" href="../models/user/" id="User">User </a>
            </li>
            
            <div style="display:none" id="hidden_Data ModelsConversationsCustomerMailboxLabelUser">
            
            </div>
        
        </div>
    
    <li class="paddingtop20"></li>
</ul>
<li>
          
            <li><ul class="subnav">
    <li class="">
        <a class="" href="../../about/" id="About Helpmonks" style="font-size:95%;font-weight:bold;">About Helpmonks</a>
    </li>
    
    <li class="paddingtop20"></li>
</ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Helpmonks Developer Guides</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Developer API &raquo;</li>
        
      
        
          <li>Getting Started &raquo;</li>
        
      
    
    <li>Query Syntax</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="query-syntax-for-the-helpmonks-api">Query Syntax for the Helpmonks API</h1>
<p>Helpmonks utilizes the MongoDB database together with the Mongoose ORM framework. Thus, the Helpmonks API exposes the Mongoose query syntax directly. For you this means that you have the full query syntax to your disposel with the Helpmonks API.</p>
<p>If you are not familiar with the MongoDB query syntax we recommend a quick read of the <a href="http://docs.mongodb.org/manual/reference/sql-comparison/index.html">comparison between SQL queries and MongoDB queries</a>.</p>
<p>As the query syntax is written in a JSON notation, it should already be familiar to a lot of developers and easy to learn.</p>
<h2 id="find-findone-and-findbyid">Find, FindOne and FindById</h2>
<p>Every API section (Conversation, User, etc.) will contain at least a &ldquo;find&rdquo; method. &ldquo;Find&rdquo; is the most versatile query syntax. &ldquo;Find&rdquo; accepts the following three parameters:</p>
<table>
    <tr>
        <th>Name</th>
        <th>Value</th>
        <th>Required</th>
    </tr>
    <tr>
        <td>query</td>
        <td>Available column in object</td>
        <td>Yes</td>
    </tr>
    <tr>
        <td>fields</td>
        <td>Available column name</td>
        <td>No</td>
    </tr>
    <tr>
        <td>options</td>
        <td>Available options like sort, slice, etc.</td>
        <td>No</td>
    </tr>
</table>

<h3 id="query">query</h3>
<p>In the query object you define the columns you want to query against, i.e. they are similar to the SQL WHERE columns. Say, you want to query a users firstname and email address:</p>
<pre><code>{
    query : { 'first_name' : 'Nitai', 'email' : 'nitai@helpmonks.com' }
}
</code></pre>

<p><em>The above assumes that the data model for the collection has columns of &ldquo;first_name&rdquo; and &ldquo;email&rdquo;</em></p>
<h3 id="fields">fields</h3>
<p>The &ldquo;field&rdquo; value allows you to define the columns you want to have returned. <strong>Note: Each data model defines default fields to be returned and usually you don&rsquo;t need to explisitely define this</strong> </p>
<pre><code>{
    fields : { 'first_name email' }
}
</code></pre>

<p><em>Please note that you separate the column names with a space!</em></p>
<h3 id="options">options</h3>
<p>The &ldquo;options&rdquo; allow you to further tailor your query. You use &ldquo;options&rdquo; to filter, sort, etc. the query.</p>
<pre><code>{
    options : { sort : { first_name: 'asc' } }
}
</code></pre>

<p><em>sort by &ldquo;first_name&rdquo; ascending</em></p>
<h3 id="example-find-query-syntax">Example Find Query Syntax</h3>
<p>Given the above example, we would query a user in the Helpmonks API with the following POST request:</p>
<pre><code>{
    query : { 'first_name' : 'Nitai', 'email' : 'nitai@helpmonks.com' },
    fields : { 'first_name email' },
    options : { sort : { first_name: 'asc' } }
}
</code></pre>

<p>On the other hand, if you want to return all users you would do this:</p>
<pre><code>{
    query: {}
}
</code></pre>

<p>As the &ldquo;fields&rdquo; and &ldquo;options&rdquo; parameters are optional the above would return all user records with the default fields and ordered as they are stored in the MongoDB database.</p>
<h2 id="findone">FindOne</h2>
<p>As the method name implicates, the &ldquo;findOne&rdquo; methods will return only one record but utilizes the same syntax and the above &ldquo;find&rdquo;. The difference is that when the &ldquo;findOne&rdquo; executes, the first found document is returned!</p>
<p>You should use the &ldquo;findOne&rdquo; whenever you are sure that only one record exists or are looking for an explisit user record. As a fact, the above find query is much faster with the &ldquo;findOne&rdquo; method.</p>
<p>If you know the ID of a record, always use the &ldquo;findById&rdquo; methods!</p>
<h2 id="findbyid">FindByID</h2>
<p>All API methods will return the found objects, each containing a unique ID (usually named &ldquo;_id&rdquo;). Hence, if you know the ID of a record it is recommend to always use the &ldquo;findOne&rdquo; methods to query against the database. </p>
<p>As MongoDB indexes the ID of each record this query is also the most performant one and should be used whenever possible.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../conversation/find/" class="btn btn-neutral float-right" title="Find">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../authentication/" class="btn btn-neutral" title="Authentication"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<!-- <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../authentication/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../conversation/find/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div> -->

<script type="text/javascript">
  // If cookie is defined toggle the id
  if (typeof $.cookie('docToggle') !== 'undefined') {
      // Parse cookie which is an array
      var _parsed_cookie = JSON.parse($.cookie('docToggle'));
      // Loop over array and show hidden divs
      $.each(_parsed_cookie, function(index, value) {
          // Toggle
          $("[id='hidden_" + value + "']").css('display','');
      })
  }
</script>

</body>
</html>